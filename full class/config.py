import os

class Config:
    """
    کلاس تنظیمات برای ذخیره و مدیریت همه هایپرپارامترهای مدل، آموزش و مسیرهای ذخیره‌سازی.

    این کلاس شامل تمامی تنظیمات کلیدی از جمله ساختار مدل، تنظیمات آموزش و ارزیابی، و مسیرهای ذخیره‌سازی فایل‌ها می‌باشد. با استفاده از این کلاس، کنترل و مدیریت همه بخش‌های برنامه به‌صورت متمرکز انجام می‌شود.
    """

    def __init__(self):
        """
        مقداردهی اولیه تنظیمات پیش‌فرض شامل:
        
        - تنظیمات مربوط به معماری مدل (تعداد نورون‌ها و تابع فعال‌سازی)
        - تنظیمات بهینه‌ساز (نوع و نرخ یادگیری)
        - تنظیمات مربوط به آموزش (تعداد دوره‌ها و اندازه بچ)
        - تنظیمات توقف زودهنگام (patience)
        - مسیرهای ذخیره‌سازی فایل‌های خروجی (مدل، تاریخچه آموزش و نتایج ارزیابی)
        
        """

        # ----------- تنظیمات معماری مدل -----------
        
        self.hidden_layers = [128, 64, 32]  # لیست تعداد نورون‌ها در هر لایه مخفی مدل
        """
        لیستی از اعداد که هر عدد نشان‌دهنده تعداد نورون‌ها در یک لایه مخفی است.
        این لیست به ترتیب از لایه اول تا آخر تعریف شده و به مدل امکان ایجاد پیچیدگی مناسب برای یادگیری داده‌ها را می‌دهد.
        """

        self.activation = "relu"  # تابع فعال‌سازی برای لایه‌های مخفی
        """
        نام تابع فعال‌سازی که برای هر لایه مخفی استفاده می‌شود.
        تابع ReLU انتخاب شده است که باعث افزایش کارایی مدل در یادگیری ویژگی‌های پیچیده می‌شود.
        """

        # ----------- تنظیمات بهینه‌ساز -----------

        self.optimizer = "adam"  # نوع بهینه‌ساز مدل
        """
        نام بهینه‌سازی که برای تنظیم وزن‌های مدل استفاده می‌شود.
        Adam یک بهینه‌ساز موثر برای شبکه‌های عصبی است که معمولاً کارایی بالایی دارد.
        """

        self.learning_rate = 0.001  # نرخ یادگیری برای بهینه‌ساز
        """
        نرخ یادگیری برای فرآیند آموزش که تعیین می‌کند مدل با چه سرعتی باید وزن‌های خود را تنظیم کند.
        مقدار پیش‌فرض 0.001 انتخاب شده تا از سرعت زیاد یا کم در همگرایی جلوگیری شود.
        """

        # ----------- تنظیمات آموزش -----------

        self.epochs = 1  # تعداد دوره‌های آموزشی
        """
        تعداد کل تکرارهایی که کل داده‌های آموزشی از مدل عبور می‌کنند.
        هرچه تعداد دوره‌ها بیشتر باشد، مدل زمان بیشتری برای یادگیری دارد، اما احتمال بیش‌برازش نیز افزایش می‌یابد.
        """

        self.batch_size = 32  # اندازه هر بچ در آموزش مدل
        """
        اندازه بچ برای آموزش، که نشان‌دهنده تعداد نمونه‌هایی است که مدل در هر گام از آن‌ها برای به‌روزرسانی وزن‌ها استفاده می‌کند.
        مقدار پیش‌فرض 32 است که عملکرد مطلوبی در اکثر مسائل دارد.
        """

        # ----------- تنظیمات توقف زودهنگام -----------

        self.patience = 10  # تعداد دوره‌های بدون بهبود برای توقف زودهنگام
        """
        تعداد دوره‌هایی که مدل بدون بهبود در اعتبارسنجی به آموزش ادامه می‌دهد.
        اگر برای این تعداد دوره متوالی بهبودی مشاهده نشود، آموزش متوقف می‌شود تا از بیش‌برازش جلوگیری شود.
        """

        # ----------- مسیرهای ذخیره‌سازی -----------

        # تنظیم مسیر فعلی که فایل اصلی در آن قرار دارد
        current_dir = os.path.dirname(os.path.abspath(__file__))

        self.model_save_path = os.path.join(current_dir, "trained_model.h5")
        """
        مسیر ذخیره‌سازی مدل آموزش‌دیده به فرمت H5.
        این فایل شامل وزن‌ها و ساختار مدل است و می‌تواند برای پیش‌بینی‌های آتی بارگذاری شود.
        """

        self.history_csv_path = os.path.join(current_dir, "training_history.csv")
        """
        مسیر ذخیره‌سازی تاریخچه آموزش به فرمت CSV.
        این فایل شامل مقادیر خطا و دقت در هر دوره آموزشی است و به تحلیل عملکرد مدل کمک می‌کند.
        """

        self.evaluation_results_path = os.path.join(current_dir, "evaluation_results.txt")
        """
        مسیر ذخیره‌سازی نتایج ارزیابی مدل به فرمت متنی.
        این فایل شامل مقادیر نهایی معیارهای ارزیابی (مثل MAE, MAPE, RMSE, R^2) است که پس از آموزش برای ارزیابی مدل استفاده می‌شود.
        """

        self.plot_path = os.path.join(current_dir, "training_history.png")
        """
        مسیر ذخیره‌سازی نمودار تاریخچه آموزش به فرمت PNG.
        این نمودار نشان‌دهنده روند خطا و دقت مدل در هر دوره آموزشی است و به بررسی روند یادگیری مدل کمک می‌کند.
        """
